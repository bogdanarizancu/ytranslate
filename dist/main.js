(()=>{"use strict";const t="992631711226-mlsml4e89lrudj9bu0ioh2jgi21kjgsd.apps.googleusercontent.com",e="AIzaSyCUfY1xmvcgAbXVmxoRtbDVk5Wy_uG4mYo";async function o(t,e){const o=await fetch(`https://translation.googleapis.com/language/translate/v2?key=AIzaSyCIV_EtJ0dD38vfnV83vCHPlmCQjkCSIlM&target=${e}&q=${encodeURIComponent(t)}`);return(await o.json()).data.translations[0].translatedText}const n=document.getElementById("video-id"),i=document.getElementById("title"),a=document.getElementById("description"),s=document.getElementById("translation-form"),l=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"];let c,r=null;function u(){gapi.client.init({apiKey:e,discoveryDocs:l}).then((()=>{c=google.accounts.oauth2.initTokenClient({client_id:t,scope:"https://www.googleapis.com/auth/youtube.force-ssl",callback:t=>{r=t.access_token,s.addEventListener("submit",p)}}),document.getElementById("sign-in-button").addEventListener("click",d),document.getElementById("sign-out-button").addEventListener("click",g)})).catch((t=>{console.error("Error initializing Google API client: ",t)}))}function d(t){c.requestAccessToken()}function g(t){google.accounts.oauth2.revoke(r,(()=>{console.log("User signed out."),r=null,s.removeEventListener("submit",p)}))}function m(t){return t.length>100?t.substring(0,97)+"...":t}async function p(t){if(t.preventDefault(),!r)return void alert("Please sign in first.");const e=n.value,s=i.value,l=a.value,c=["af","sq","am","ar","hy","az","bn","eu","be","bs","bg","ca","zh-CN","zh-TW","hr","cs","da","nl","et","fil","fi","fr","gl","ka","de","el","gu","ha","he","hi","hu","is","ig","id","ga","it","ja","jv","kn","kk","km","ko","ky","lo","lv","lt","lb","mk","ml","mr","mn","ne","no","ps","fa","pl","pt","pa","ro","ru","gd","sr","si","sk","sl","es","sw","sv","ta","te","th","tr","uk","ur","uz","vi","cy","zu"];let u={};for(const t of c){const[e,n]=await Promise.all([o(s,t),o(l,t)]);u[t]={title:m(e),description:n}}console.log(u);try{await async function(t,e,o,n){const i=await fetch("https://www.googleapis.com/youtube/v3/videos?part=snippet,localizations",{method:"PUT",headers:{Authorization:`Bearer ${gapi.auth.getToken().access_token}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,snippet:{title:e,description:o,categoryId:"10"},localizations:n})});if(!i.ok){const t=await i.json();throw new Error(`Failed to update video: ${t.error.message}`)}return await i.json()}(e,s,l,u),alert("Video localizations updated successfully!")}catch(t){console.error("Error updating video localizations: ",t),alert("Failed to update video localizations. See console for details.")}}window.onload=function(){gapi.load("client",u)}})();